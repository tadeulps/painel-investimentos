<section class="produtos-page">
  <div class="page-header">
    <h1>Produtos de Investimento</h1>
    <p class="subtitle">Conhe√ßa os produtos dispon√≠veis e encontre o ideal para voc√™</p>
  </div>

  <div *ngIf="isLoading" class="loading-container">
    <p>Carregando produtos...</p>
  </div>

  <div *ngIf="!isLoading">
  <!-- Produtos Recomendados -->
  <div class="section-container recommended-section">
    <div class="section-header">
      <h2>
        <span class="icon">‚≠ê</span>
        Produtos Recomendados para Voc√™
      </h2>
      <p class="section-description">
        Baseado no seu perfil de investimento
      </p>
    </div>

    <div class="products-grid">
      <mat-card *ngFor="let product of recommendedProducts" class="product-card recommended">
        <mat-card-header>
          <mat-chip [class]="'chip-' + getRiskClass(product.risco)">{{ product.tipo }}</mat-chip>
          <mat-chip [class]="'risk-' + getRiskClass(product.risco)">{{ product.risco }}</mat-chip>
        </mat-card-header>

        <mat-card-content>
          <h3 class="product-name">{{ product.nome }}</h3>

          <div class="product-details">
            <div class="detail-item">
              <span class="label">Rentabilidade</span>
              <span class="value">{{ (product.taxaAnual * 100).toFixed(2) }}% a.a.</span>
            </div>
            <div class="detail-item">
              <span class="label">Tipo</span>
              <span class="value">{{ product.tipo }}</span>
            </div>
          </div>
        </mat-card-content>

        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="simulateInvestment(product)">
            <mat-icon>calculate</mat-icon> Simular
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>

  <!-- Todos os Produtos -->
  <div class="section-container all-products-section">
    <div class="section-header">
      <h2>
        <span class="icon">üìä</span>
        Todos os Produtos
      </h2>
      <p class="section-description">
        Explore todas as op√ß√µes dispon√≠veis
      </p>
    </div>

    <div class="filters-bar">
      <button 
        *ngFor="let type of productTypes" 
        mat-stroked-button
        [color]="selectedType === type ? 'primary' : ''"
        (click)="filterByType(type)">
        {{ type === 'Todos' ? 'Todos' : type }}
      </button>
    </div>

    <div class="products-grid">
      <mat-card *ngFor="let product of filteredProducts" class="product-card">
        <mat-card-header>
          <mat-chip [class]="'chip-' + getRiskClass(product.risco)">{{ product.tipo }}</mat-chip>
          <mat-chip [class]="'risk-' + getRiskClass(product.risco)">{{ product.risco }}</mat-chip>
        </mat-card-header>

        <mat-card-content>
          <h3 class="product-name">{{ product.nome }}</h3>

          <div class="product-details">
            <div class="detail-item">
              <span class="label">Rentabilidade</span>
              <span class="value">{{ (product.taxaAnual * 100).toFixed(2) }}% a.a.</span>
            </div>
            <div class="detail-item">
              <span class="label">Tipo</span>
              <span class="value">{{ product.tipo }}</span>
            </div>
          </div>
        </mat-card-content>

        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="simulateInvestment(product)">
            <mat-icon>calculate</mat-icon> Simular
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div *ngIf="filteredProducts.length === 0" class="no-results">
      <p>Nenhum produto encontrado para este filtro.</p>
    </div>
  </div>
  </div>
</section>
