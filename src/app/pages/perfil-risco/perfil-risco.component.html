<section class="perfil-risco-page">
  <div class="page-header">
    <h1>Perfil de Risco</h1>
    <p class="subtitle">Seu perfil é calculado automaticamente com base nos seus investimentos</p>
  </div>

  <div *ngIf="isLoading" class="loading-container">
    <p>Carregando seu perfil...</p>
  </div>

  <!-- Pontuação Indicator -->
  <div *ngIf="!isLoading" class="pontuacao-section">
    <div class="pontuacao-card">
      <div class="pontuacao-header">
        <span class="pontuacao-icon" [style.color]="getRiskColor()">{{ getRiskIcon() }}</span>
        <div class="pontuacao-info">
          <h2 class="pontuacao-title">Sua Pontuação de Risco</h2>
          <p class="pontuacao-subtitle">{{ userName }}</p>
        </div>
      </div>

      <div class="pontuacao-display">
        <span class="pontuacao-value" [style.color]="getRiskColor()">{{ userPontuacao }}</span>
        <span class="pontuacao-max">/100</span>
      </div>

      <div class="pontuacao-bar-container">
        <div class="pontuacao-bar">
          <div 
            class="pontuacao-fill" 
            [style.width.%]="userPontuacao"
            [style.background]="getRiskColor()">
          </div>
        </div>
        <div class="pontuacao-markers">
          <span class="marker" style="left: 0%">0</span>
          <span class="marker" style="left: 33%">33</span>
          <span class="marker" style="left: 66%">66</span>
          <span class="marker" style="left: 100%">100</span>
        </div>
      </div>

      <div class="pontuacao-category">
        <span class="category-label">Categoria:</span>
        <span class="category-value" [style.color]="getRiskColor()">{{ getRiskCategory() }}</span>
      </div>
    </div>
  </div>

  <!-- Profile Cards (Read-only) -->
  <div *ngIf="!isLoading" class="profiles-grid">
    <div 
      *ngFor="let profile of profiles; let i = index" 
      class="profile-card"
      [class.current]="i === currentIndex">
      
      <div class="card-icon" [style.background]="profile.color">
        <span class="icon">{{ profile.icon }}</span>
      </div>
      
      <h2 class="card-title">{{ profile.title }}</h2>
      
      <div class="card-description">
        <p>{{ profile.description }}</p>
      </div>
      
      <div class="card-features">
        <div class="feature-item" *ngFor="let feature of profile.features">
          <span class="check">✓</span>
          <span>{{ feature }}</span>
        </div>
      </div>

      <div class="card-risk-indicator">
        <span class="label">Nível de Risco:</span>
        <div class="risk-bars">
          <div 
            *ngFor="let bar of [1,2,3,4,5]" 
            class="bar"
            [class.filled]="bar <= profile.riskLevel"></div>
        </div>
      </div>

      <div *ngIf="i === currentIndex" class="current-badge">
        ✓ Seu Perfil Atual
      </div>
    </div>
  </div>
</section>
